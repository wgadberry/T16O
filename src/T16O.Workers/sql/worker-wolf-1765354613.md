# Winston Worker Assessment Report

**Generated:** 2025-12-10 08:16:53 UTC

---

## Summary

| Metric | Value |
|--------|-------|
| Unknown party records | 38,462 |
| Unknown transactions | 331 |
| Unknown percentage | 13.88% |

---

## Mint Label Updates

The following mints were resolved and can be labeled:

```sql
UPDATE addresses SET label = 'Buckazoids - Buckazoids' WHERE address = 'BQQzEvYT4knThhkSPBvSKBLg1LEczisWLhx5ydJipump';
```

---

## Program Pattern Analysis

These program IDs appear in unknown transactions. Consider adding detection logic to `sp_party_merge`.

| Program ID | Count | Sample Signatures |
|------------|-------|-------------------|
| `DF1ow4tspfHX9JwWJsAb9epbkA8hmpSEAtxXy1V27QBH` | 58 | `212Zp5ZF...`, `2hrv37u7...` |
| `DGMgNKpqygARV2pHZfW4kNQSHT9F3Ly2BKWqvpYrAg5C` | 50 | `14ZwGc9e...`, `1m61NeaM...` |
| `pAMMBay6oceH9fJKBRHGP5D4bD4sWpmSwMn52FMfXEA` | 48 | `2FmEvLVy...`, `2GGdRuxK...` |
| `JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4` | 36 | `2cWXD8D5...`, `2Gtu1Jo4...` |
| `6m2CDdhRgxpH4WjvdzxAYbGxwdGUz5MziiL5jek2kBma` | 20 | `2gA752Ko...`, `2HdZnbjo...` |
| `6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P` | 17 | `2ATLZVKC...`, `2F3xZdoJ...` |
| `DeJBGdMFa1uynnnKiwrVioatTuHmNLpyFKnmB5kaFdzQ` | 17 | `25yRq6Q2...`, `2Jk8ZSF7...` |
| `CPMMoo8L3F4NbTegBCKVNunggL7H1ZpdTHKxQB5qKP1C` | 15 | `25znE8ww...`, `2eEUoxxw...` |
| `routeUGWgWzqBWFcrCfv8tritsqukccJPu3q5GPP3xS` | 14 | `2933DXVB...`, `2kJH5Q5M...` |
| `LBUZKhRxPF3XUpBCjp4YzTKgLccjZhTSDM9YuVaPwxo` | 10 | `28UGCVwW...`, `2FVDfhPB...` |
| `Ceu4aCcSV624aRGUoWt2pPd5YuLZM4gyos7kyrPrpGG1` | 6 | `2DUxSZYn...`, `3CeBKnA7...` |
| `GMgnVFR8Jb39LoXsEVzb3DvBy3ywCmdmJquHUy1Lrkqb` | 6 | `4KXX4EBv...`, `4p7QW5sL...` |
| `AARTcKUzLYaWmK7D1otgyAoFn5vQqBiTrxjwrvjvsVJa` | 3 | `3T5oS3Fv...`, `4LRrVx9U...` |
| `sattCHvHkM4XHLyadnU4KQtuNWZbWVDKzuPhmJBXCkq` | 2 | `44S11Coh...`, `4QLb9W3z...` |
| `CAMMCzo5YL8w4VFF8KVHrK22GGUsp5VTaW7grrKgrWqK` | 2 | `4jPaDmd7...`, `4qSvTxqy...` |
| `term9YPb9mzAsABaqN71A4xdbxHmpBNZavpBiQKZzN3` | 2 | `25znE8ww...`, `2sd5TQAF...` |
| `B3111yJCeHBcA1bizdJjUFPALfhAfSRnAbJzGUtnt56A` | 2 | `2r8ZVaFP...`, `5GVaUf6B...` |
| `EQU1KC1g3wDBX82XaLy54GJfBUGhvoo5Mu7A6q4Xcq68` | 2 | `27AQjS8y...`, `5zzjCLhG...` |
| `3q9RnxufDcorEPAmCeZumn8kveC832rYYmZSk5tcaCzM` | 2 | `ysNJK7Ay...`, `yxvCGfrs...` |
| `RangohQxaWip6i1twAAnRVLmob9j88fid7sq2DMAATW` | 1 | `2r8ZVaFP...` |

---

## Instruction Pattern Analysis

These instruction types appear in unknown transactions.

| Instruction | Count | Suggested Action | Sample Signatures |
|-------------|-------|------------------|-------------------|
| `GetAccountDataSize` | 207 | *(needs review)* | `14ZwGc9e...`, `1m61NeaM...` |
| `TransferFee` | 24 | `transfer` | `2hzhjAc8...`, `2iNn3xB8...` |
| `InitializeAccount` | 21 | `createAccount` | `2eEUoxxw...`, `2gA752Ko...` |
| `CreateTokenAccount` | 18 | `createAccount` | `2Gtu1Jo4...`, `2PuCeRNu...` |
| `Swap2` | 17 | `swap` | `212Zp5ZF...`, `2hrv37u7...` |
| `WrapSol` | 11 | *(needs review)* | `2LBogjgn...`, `2qnCAfTX...` |
| `Swap` | 8 | `swap` | `2tWHMBc2...`, `3zh7pTHN...` |
| `Transfer` | 5 | `transfer` | `2DUxSZYn...`, `3CeBKnA7...` |
| `WithdrawWithheldTokensFromMint` | 5 | `withdraw` | `3fQQimN8...`, `41erMdbt...` |
| `WithdrawWithheldTokensFromAccounts` | 3 | `withdraw` | `3eiZS1qy...`, `5GvHNTGA...` |
| `SwapBaseInput` | 2 | `swap` | `27AQjS8y...`, `5zzjCLhG...` |
| `ExecuteLightweightThreeHop` | 2 | *(needs review)* | `ysNJK7Ay...`, `yxvCGfrs...` |
| `ValidateNonce` | 2 | *(needs review)* | `25znE8ww...`, `2sd5TQAF...` |
| `ExtendAccount` | 1 | *(needs review)* | `5W7rV9Hz...` |
| `InitializeReferralTokenAccount` | 1 | `createAccount` | `4GRusCN6...` |
| `OpenDcaV2` | 1 | *(needs review)* | `3EdT87eU...` |
| `CreateLockEscrow` | 1 | `createAccount` | `5wdPiCAr...` |
| `SyncNative` | 1 | `sync` | `2X9c7R71...` |
| `TransferToSponsor` | 1 | `transfer` | `3vESyTgS...` |

---

## New ENUM Values Required

The following action types are not yet in the `party.action_type` ENUM:

- `sync`
- `withdraw`

Run the ALTER TABLE statement in the generated `sp_party_merge-*.sql` file first.

---

## Suggested sp_party_merge Updates

Based on the patterns above, the following detection logic can be added:

```sql
-- Add these conditions to the action type CASE statement:

-- Instruction 'TransferFee' appears 24 times
WHEN v_log_messages LIKE '%Instruction: TransferFee%' THEN 'transfer'

-- Instruction 'InitializeAccount' appears 21 times
WHEN v_log_messages LIKE '%Instruction: InitializeAccount%' THEN 'createAccount'

-- Instruction 'CreateTokenAccount' appears 18 times
WHEN v_log_messages LIKE '%Instruction: CreateTokenAccount%' THEN 'createAccount'

-- Instruction 'Swap2' appears 17 times
WHEN v_log_messages LIKE '%Instruction: Swap2%' THEN 'swap'

-- Instruction 'Swap' appears 8 times
WHEN v_log_messages LIKE '%Instruction: Swap%' THEN 'swap'

-- Instruction 'Transfer' appears 5 times
WHEN v_log_messages LIKE '%Instruction: Transfer%' THEN 'transfer'

-- Instruction 'WithdrawWithheldTokensFromMint' appears 5 times [NEW ENUM VALUE]
WHEN v_log_messages LIKE '%Instruction: WithdrawWithheldTokensFromMint%' THEN 'withdraw'

-- Instruction 'WithdrawWithheldTokensFromAccounts' appears 3 times [NEW ENUM VALUE]
WHEN v_log_messages LIKE '%Instruction: WithdrawWithheldTokensFromAccounts%' THEN 'withdraw'
```

---

## Instructions Needing Manual Review

These instructions could not be automatically mapped:

### `GetAccountDataSize`

- **Count:** 207
- **Sample signatures:**
  - `14ZwGc9e7XgcETywg12WDL27iFMxPVVREYAjZ7TtYanRFdUkqmWEeNjNvKHbigmQFJVfaeHjHprecj3GFvskMUg`
  - `1m61NeaMLQFnNThsDKy3Phpnz3sc1yugRMSmKw9aovfQbLbBLee5pF39GRp7Q84jbsSRkck6UCTmowDJRoZDZ2f`
  - `1yQgMzfTaAct14LmroP7Aw2pmnKctPJwkhLMaVvgS7BvwCLAbcaeMVTdVu8aPSHPWJ5ALbEjZ57AWthY7G4CU9g`

### `WrapSol`

- **Count:** 11
- **Sample signatures:**
  - `2LBogjgnah77J7yzg9iKYit5d7wpiEt7BwdXDm7LxEesVGScL9FNtqmHgo1f3d44WEvgZajwZFmiYhUdtQH6ZzVQ`
  - `2qnCAfTXdGsdjJF7meyB7TtXnhxTsesNvwmjB6xgzFC6eGxCdjefHusXQLcy3ZXrxRKpv84CzvEdzqqBZi2cLbdQ`
  - `2TghGPonSvc8zgQPLYMqat6Mj3oXWejnZFdmSBjHmETZBwtXAzdvH3kvZUd6a5Mq958ac8JG9FVF3meM5x67mYxL`

### `ExecuteLightweightThreeHop`

- **Count:** 2
- **Sample signatures:**
  - `ysNJK7AyaZf6VwmGBHhdNCNa8onKmZasTJCBgdgbDDWMZhCNMaLqoKsXMtfGWvVuZhd4bW1x6SiXNKiQg8wFPHS`
  - `yxvCGfrsnRX4AahsbgeD2yZuzNJmRBYRUtsJ1ZMDbm1d4i7Ti3dNw6xfPhZFxXm9pyhFK1y2M3jhNi6DTddGMxf`

### `ValidateNonce`

- **Count:** 2
- **Sample signatures:**
  - `25znE8wwWkZo2n5F3HgDo9nMcGUTKXqEX2NXrVJ6cTgrYaHAm73dEsf3TUEdbHYANE6huYBpGZ88mYJcn7WtT9xD`
  - `2sd5TQAFWq6e7kYor4U9s4mSoCmnaQaawATjYbdnkAQtZqUaPsYaeYTvMV3e9KMLdeptXMm8NcFyqPwJ55a7BN7h`

### `ExtendAccount`

- **Count:** 1
- **Sample signatures:**
  - `5W7rV9Hz1iaWgM8Wwreehsa97LadvGcmeNapir8qhFHNUytWQePnYXdLidJATyQ2zvWBUuNaDsB8SvMU3VpixMS3`

### `OpenDcaV2`

- **Count:** 1
- **Sample signatures:**
  - `3EdT87eUuFZdoGg8rMxHcxQEvm7LBeoTWhrVmPTfiapRvHbRmZdfhSXEZ2rKTVBzYRHND1q7XMCTCExn8keApg27`

---

## Next Steps

1. Review the generated `sp_party_merge-*.sql` file
2. Apply the stored procedure update if the changes look correct
3. Reprocess unknown records:

```sql
CALL sp_party_reprocess_unknown(1000);
```

