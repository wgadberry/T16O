# Winston Worker Assessment Report

**Generated:** 2025-12-10 09:36:12 UTC

---

## Summary

| Metric | Value |
|--------|-------|
| Unknown party records | 7,280 |
| Unknown transactions | 38 |
| Unknown percentage | 31.39% |

---

## Mint Label Updates

The following mints were resolved and can be labeled:

```sql
UPDATE addresses SET label = 'BRACOIN - BRACOIN' WHERE address = 'AC6Li6KLb2RdAneRPt4jsQwoKkzqtfWLNpfP8BzZLBRA';
```

---

## Program Pattern Analysis

These program IDs appear in unknown transactions. Consider adding detection logic to `sp_party_merge`.

| Program ID | Count | Sample Signatures |
|------------|-------|-------------------|
| `DF1ow4tspfHX9JwWJsAb9epbkA8hmpSEAtxXy1V27QBH` | 6 | `2fNwsj5W...`, `4hNGyqx9...` |
| `JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4` | 6 | `22ANS9Mp...`, `25AWAN2G...` |
| `3q9RnxufDcorEPAmCeZumn8kveC832rYYmZSk5tcaCzM` | 5 | `4z7bMf85...`, `e9opqhes...` |
| `DeJBGdMFa1uynnnKiwrVioatTuHmNLpyFKnmB5kaFdzQ` | 4 | `5zxbxrZ7...`, `5zZwGdTx...` |
| `EQU1KC1g3wDBX82XaLy54GJfBUGhvoo5Mu7A6q4Xcq68` | 2 | `UTbHzAyw...`, `VEsqQSAv...` |
| `6m2CDdhRgxpH4WjvdzxAYbGxwdGUz5MziiL5jek2kBma` | 1 | `2741GSL5...` |
| `LocpQgucEQHbqNABEYvBvwoxCPsSbG91A1QaQhQQqjn` | 1 | `2dc8PbRF...` |
| `MoonCVVNZFSYkqNXP6bxHLPL6QQJiMagDL3qcqUQTrG` | 1 | `2g4Y7Am5...` |
| `sattCHvHkM4XHLyadnU4KQtuNWZbWVDKzuPhmJBXCkq` | 1 | `4QLb9W3z...` |
| `strmRqUCoQUgGUan5YhzUZa6KqdzwX5L6FpUxfmKg5m` | 1 | `3Jeb36Qb...` |

---

## Instruction Pattern Analysis

These instruction types appear in unknown transactions.

| Instruction | Count | Suggested Action | Sample Signatures |
|-------------|-------|------------------|-------------------|
| `GetAccountDataSize` | 11 | *(needs review)* | `25AWAN2G...`, `2dc8PbRF...` |
| `ExecuteLightweightThreeHop` | 5 | *(needs review)* | `4z7bMf85...`, `e9opqhes...` |
| `WithdrawWithheldTokensFromMint` | 5 | `withdraw` | `9Pk2eKMk...`, `NzSpXqQm...` |
| `Swap2` | 4 | `swap` | `2fNwsj5W...`, `5p7EkSfB...` |
| `WithdrawWithheldTokensFromAccounts` | 3 | `withdraw` | `1XzdhhCM...`, `26gRgyfU...` |
| `SwapBaseInput` | 2 | `swap` | `UTbHzAyw...`, `VEsqQSAv...` |
| `WrapSol` | 2 | *(needs review)* | `4hNGyqx9...`, `4pzmKfLh...` |
| `Buy` | 1 | `swap` | `2g4Y7Am5...` |
| `Create` | 1 | `createAccount` | `3Jeb36Qb...` |
| `CreateTokenAccount` | 1 | `createAccount` | `22ANS9Mp...` |
| `InitializeAccount` | 1 | `createAccount` | `2741GSL5...` |
| `Swap` | 1 | `swap` | `4QLb9W3z...` |

---

## New ENUM Values Required

The following action types are not yet in the `party.action_type` ENUM:

- `withdraw`

Run the ALTER TABLE statement in the generated `sp_party_merge-*.sql` file first.

---

## Suggested sp_party_merge Updates

Based on the patterns above, the following detection logic can be added:

```sql
-- Add these conditions to the action type CASE statement:

-- Instruction 'WithdrawWithheldTokensFromMint' appears 5 times [NEW ENUM VALUE]
WHEN v_log_messages LIKE '%Instruction: WithdrawWithheldTokensFromMint%' THEN 'withdraw'

-- Instruction 'Swap2' appears 4 times
WHEN v_log_messages LIKE '%Instruction: Swap2%' THEN 'swap'

-- Instruction 'WithdrawWithheldTokensFromAccounts' appears 3 times [NEW ENUM VALUE]
WHEN v_log_messages LIKE '%Instruction: WithdrawWithheldTokensFromAccounts%' THEN 'withdraw'

-- Instruction 'SwapBaseInput' appears 2 times
WHEN v_log_messages LIKE '%Instruction: SwapBaseInput%' THEN 'swap'

-- Instruction 'Buy' appears 1 times
WHEN v_log_messages LIKE '%Instruction: Buy%' THEN 'swap'

-- Instruction 'Create' appears 1 times
WHEN v_log_messages LIKE '%Instruction: Create%' THEN 'createAccount'

-- Instruction 'CreateTokenAccount' appears 1 times
WHEN v_log_messages LIKE '%Instruction: CreateTokenAccount%' THEN 'createAccount'
```

---

## Instructions Needing Manual Review

These instructions could not be automatically mapped:

### `GetAccountDataSize`

- **Count:** 11
- **Sample signatures:**
  - `25AWAN2GQyTd7m9tPaZDGyg7R9pqwaRrWyWBcNwkLqSpk4jF8zS2HuRSiamMYY4SBhnoxbzyRcAUvRKamiajNz6a`
  - `2dc8PbRFweumC2UZK2m8QrUGaXo7EUbJJVV22Aa1XhoPYKT8yeS8h398Zw4u82pBeU4o9K4zAN4YFTqg1HkLZuCk`
  - `4c1V7d1CBUuQbhwYHexzaSBPuGeiSYL54HmQNoc1uWyfn4ENZuUX8z4pgDpY7YqRtJP9N98BostvUXH7g25PuT8E`

### `ExecuteLightweightThreeHop`

- **Count:** 5
- **Sample signatures:**
  - `4z7bMf85vSiN23jd6xaFESBKyTK8U3sx75krjeSBVNeoZnmYhiQjLzEL5pubAtg5fdSkmng7WChFHJtGMyFjhyjB`
  - `e9opqhesSp8UV9UCExSCeFBmD1h61tzsJhU5M3o4wKqkvcz6f2xVZGR9NFN7VEZ17GYxPDmGv9i5PS1ZBZL3NTv`
  - `ysNJK7AyaZf6VwmGBHhdNCNa8onKmZasTJCBgdgbDDWMZhCNMaLqoKsXMtfGWvVuZhd4bW1x6SiXNKiQg8wFPHS`

### `WrapSol`

- **Count:** 2
- **Sample signatures:**
  - `4hNGyqx9prvGPSZML1jhvGMNz1jGBDXp4pmwf89h9PXFusxhzAL6Gezs6N8vFSEwPKPYnqde9dJWN9pZdAdxm9be`
  - `4pzmKfLh8Vpnogvqa52RZMBAUfDsA7ZLfU9efYcjg1AbjYjvzx6ufor2uTjd3eyxdtW87L731uDinXAekjVpAfkL`

---

## Next Steps

1. Review the generated `sp_party_merge-*.sql` file
2. Apply the stored procedure update if the changes look correct
3. Reprocess unknown records:

```sql
CALL sp_party_reprocess_unknown(1000);
```

