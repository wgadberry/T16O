<p-card>
  <ng-template #header>
    <div class="card-header">
      <h2><i class="pi pi-cloud"></i>Weather Forecast</h2>
      <p>5-day weather forecast from the server</p>
    </div>
  </ng-template>

  <p *ngIf="loading" class="loading-message">
    <i class="pi pi-spin pi-spinner"></i>
    Loading... Please refresh once the ASP.NET backend has started.
  </p>

  <p-table [value]="forecasts" *ngIf="!loading && forecasts.length > 0"
           [tableStyle]="{'min-width': '50rem'}"
           styleClass="p-datatable-striped"
           [paginator]="false">
    <ng-template #header>
      <tr>
        <th>Date</th>
        <th>Temperature (C)</th>
        <th>Temperature (F)</th>
        <th>Summary</th>
      </tr>
    </ng-template>
    <ng-template #body let-forecast>
      <tr>
        <td><i class="pi pi-calendar"></i>{{ forecast.date }}</td>
        <td>{{ forecast.temperatureC }}°C</td>
        <td>{{ forecast.temperatureF }}°F</td>
        <td>
          <p-tag [value]="forecast.summary" [severity]="getTemperatureSeverity(forecast.temperatureC)"></p-tag>
        </td>
      </tr>
    </ng-template>
  </p-table>

  <ng-template #footer>
    <div class="card-footer">
      <p-button label="Refresh" icon="pi pi-refresh" (click)="getForecasts()"></p-button>
    </div>
  </ng-template>
</p-card>
